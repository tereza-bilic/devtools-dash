{# filepath: /Users/tere/DIPL/devtools-dash/backend/app/templates/level_c6/c6.html #}
{% extends "tutorial_level.html" %}
{% set key = level_session.level_key %}
{% set title = level_session.level.title %}
{% set secret = level_session.finish_secret %}

{% block head %}
  <script defer src="{{ url_path_for('get_level_js', level_key='c6') }}?should_obfuscate=False"></script>
  <style>
    /* Basic styling for code elements */
    code {
      font-family: monospace;
      background-color: #f5f5f5;
      padding: 2px 4px;
      border-radius: 3px;
      color: #d63384;
      font-size: 0.9em;
    }

    .code-highlight {
      background-color: #f0f0f0;
      padding: 2px 5px;
      border-radius: 4px;
      color: #e83e8c;
    }

    /* Info boxes with different background colors */
    .info-box {
      padding: 10px;
      border-radius: 5px;
      margin: 15px 0;
    }

    .info-box-light {
      background-color: #f8f9fa;
      border-left: 4px solid var(--primary-color);
    }

    .info-box-primary-dark {
      border-left: 4px solid var(--primary-dark);
      background-color: #f8f9fa;
    }

    .info-box-orange {
      border-left: 4px solid var(--color-orange);
      background-color: #f8f9fa;
    }

    .info-box-success {
      border-left: 4px solid var(--success-color);
      background-color: #f8f9fa;
    }

    .info-box-blue {
      background-color: #e8f4fc;
    }

    .info-box-yellow {
      background-color: #fff3cd;
    }

    .info-box-green {
      background-color: #d1e7dd;
    }

    /* Content section spacing */
    .content-section {
      margin-top: 15px;
    }

    .content-section-larger {
      margin-top: 20px;
    }

    /* Code blocks */
    .code-block {
      display: block;
      background-color: #282c34;
      color: #e0e0e0;
      padding: 12px;
      border-radius: 6px;
      font-family: monospace;
      margin: 15px 0;
      overflow: auto;
      position: relative;
    }

    /* Inputs */
    .form-input {
      width: 200px;
      padding: 5px;
      border-radius: 4px;
      border: 1px solid #ccc;
      margin-top: 10px;
    }

    /* Button styling */
    .try-it-btn {
      padding: 8px 16px;
      background-color: var(--primary-color);
      color: white;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      transition: background-color 0.3s;
      font-weight: bold;
      margin: 10px 0;
    }

    .try-it-btn:hover {
      background-color: var(--primary-dark);
    }

    /* Special elements */
    .interactive-challenge {
      border: 2px dashed var(--primary-light);
      padding: 15px;
      border-radius: 8px;
      margin: 20px 0;
      background-color: #fafafa;
    }

    .validation-feedback {
      margin-top: 10px;
      padding: 8px;
      border-radius: 4px;
      display: none;
    }

    .success-feedback {
      background-color: #dff2df;
      color: var(--success-color);
      border: 1px solid var(--success-color);
    }

    .error-feedback {
      background-color: #ffdede;
      color: #f44336;
      border: 1px solid #f44336;
    }

    .task-badge {
      display: inline-block;
      padding: 4px 8px;
      background-color: var(--color-orange);
      color: white;
      border-radius: 12px;
      font-size: 0.8em;
      font-weight: bold;
      margin-right: 8px;
    }

    .hint-icon {
      cursor: help;
      display: inline-block;
      margin-left: 5px;
      width: 16px;
      height: 16px;
      background-color: var(--color-orange);
      color: white;
      border-radius: 50%;
      text-align: center;
      font-size: 12px;
      line-height: 16px;
    }

    .heading-primary {
      color: var(--primary-color);
    }

    .heading-primary-dark {
      color: var(--primary-dark);
    }

    .heading-orange {
      color: var(--color-orange);
    }

    .heading-success {
      color: var(--color-green);
    }

    .heading-primary-light {
      color: var(--color-red);
    }

    .shorthand-highlight {
      display: inline-block;
      background: linear-gradient(to right, rgba(91, 134, 215, 0.2), transparent);
      padding: 2px 8px;
      border-radius: 4px;
      font-weight: bold;
    }

    .padding-15 {
      padding: 15px;
    }

    /* Fix for list styling */
    .info-box ul,
    .info-box ol,
    .interactive-challenge ul,
    .interactive-challenge ol,
    .tutorial-content ul,
    .tutorial-content ol {
      padding-left: 20px;
      margin-left: 5px;
    }

    .list-container {
      margin-left: 0;
      padding-left: 25px;
    }

    .list-container li {
      margin-bottom: 8px;
    }

    /* Ensure hint icon aligns properly with list items */
    .hint-icon {
      vertical-align: middle;
      margin-left: 5px;
    }
  </style>
{% endblock %}

{% block content %}  <div class="stepper-item active" data-step="1">
    <div class="tutorial-content">
      <h2 class="heading-primary-dark">üìä console.table(): Data, Beautifully Organized</h2>
      <p>Ever struggled to make sense of messy arrays and objects in your console? Say hello to <code class="code-highlight">console.table()</code>!</p>

      <div class="console-example">
        <pre><code class="language-javascript">const users = [
  { id: 1, name: 'Alice', role: 'Developer', active: true },
  { id: 2, name: 'Bob', role: 'Designer', active: false },
  { id: 3, name: 'Charlie', role: 'Manager', active: true },
  { id: 4, name: 'Diana', role: 'DevOps', active: true }
];

// The old way
console.log(users);

// The awesome way
console.table(users);</code></pre>
      </div>

      <div class="info-box info-box-blue content-section">
        <p><strong>Why is this useful?</strong></p>
        <ul class="list-container">
          <li>Instantly spot patterns in data</li>
          <li>Sort columns by clicking headers</li>
          <li>Compare properties across objects</li>
          <li>Save time when debugging complex data structures</li>
        </ul>
      </div>

      <div class="content-section">
        <p>Try it out! Click the button below and check your console.</p>
        <button class="try-it-btn" id="try-table-btn">Try console.table()</button>
      </div>

      <div class="interactive-challenge">
        <span class="task-badge">Challenge</span>
        <p>We have a hidden array of products. Use <code class="code-highlight">console.table(window._products)</code> to display it, then find the most expensive product!</p>
        <input type="text" id="table-challenge-input" placeholder="Type the name of the most expensive product" class="form-input">
        <button class="try-it-btn" id="check-table-challenge">Check Answer</button>
        <div id="table-challenge-feedback" class="validation-feedback"></div>
      </div>
    </div>
  </div>

  <div class="stepper-item hidden" data-step="2">
    <div class="tutorial-content">
      <h2 class="heading-orange">üïµÔ∏è console.trace(): Follow the Function Trail</h2>
      <p>Ever wonder how your code got to a certain point? <code class="code-highlight">console.trace()</code> is your detective tool!</p>

      <div class="info-box info-box-orange">
        <p><strong>What console.trace() does:</strong> Shows the call path (stack trace) that led to the point where it's called - but in a more readable way than error stack traces.</p>
      </div>

      <div class="console-example">
        <pre><code class="language-javascript">function firstFunction() {
  secondFunction();
}

function secondFunction() {
  thirdFunction();
}

function thirdFunction() {
  console.trace('Following the breadcrumbs üçû');
}

firstFunction();</code></pre>
      </div>

      <div class="content-section">
        <p>Click to see the trace in action:</p>
        <button class="try-it-btn" id="try-trace-btn">Try console.trace()</button>
      </div>

      <div class="info-box info-box-yellow content-section">
        <p><strong>Pro Tip:</strong> Use <code>console.trace()</code> when:</p>
        <ul class="list-container">
          <li>Debugging recursive functions</li>
          <li>Figuring out which component triggered an event</li>
          <li>Tracking down unexpected function calls</li>
        </ul>
      </div>

      <div class="interactive-challenge">
        <span class="task-badge">Challenge</span>
        <p>There's a mysterious function called <code class="code-highlight">findBug()</code> in our code. Call it in your console, then use <code class="code-highlight">console.trace()</code> inside it to find out who's calling it!</p>
        <input type="text" id="trace-challenge-input" placeholder="Type the name of the function that calls findBug()" class="form-input">
        <button class="try-it-btn" id="check-trace-challenge">Check Answer</button>
        <div id="trace-challenge-feedback" class="validation-feedback"></div>
      </div>
    </div>
  </div>

  <div class="stepper-item hidden" data-step="3">
    <div class="tutorial-content">
      <h2 class="heading-success">‚è±Ô∏è console.time(): Measure Performance Like a Pro</h2>
      <p>Wondering why your code is slow? <code class="code-highlight">console.time()</code> and <code class="code-highlight">console.timeEnd()</code> help you measure execution time with microsecond precision!</p>

      <div class="console-example">
        <pre><code class="language-javascript">// Start the timer
console.time('sortingAlgorithm');

// Run your code
const numbers = Array.from({length: 10000}, () => Math.floor(Math.random() * 10000));
numbers.sort((a, b) => a - b);

// Stop the timer and show the result
console.timeEnd('sortingAlgorithm'); // Output: sortingAlgorithm: 10.123ms</code></pre>
      </div>

      <div class="info-box info-box-success content-section">
        <p><strong>Why use console.time()?</strong></p>
        <ul class="list-container">
          <li>Identify bottlenecks in your code</li>
          <li>Compare performance between approaches</li>
          <li>Track how long API calls or data processing takes</li>
          <li>Works with nested timers using different labels</li>
        </ul>
      </div>

      <div class="content-section">
        <p>Try it yourself:</p>
        <button class="try-it-btn" id="try-time-btn">Try console.time()</button>
      </div>

      <div class="interactive-challenge">
        <span class="task-badge">Challenge</span>
        <p>We have two sorting functions: <code class="code-highlight">bubbleSort()</code> and <code class="code-highlight">quickSort()</code>. Use <code class="code-highlight">compareSortAlgorithms()</code> to see which one is faster:</p>
        <input type="text" id="time-challenge-input" placeholder="Type the name of the faster sorting algorithm" class="form-input">
        <button class="try-it-btn" id="check-time-challenge">Check Answer</button>
        <div id="time-challenge-feedback" class="validation-feedback"></div>
      </div>
    </div>
  </div>

  <div class="stepper-item hidden" data-step="4">
    <div class="tutorial-content">
      <h2 class="heading-primary-light">üìÅ console.group(): Organize Your Debug Output</h2>
      <p>When debugging gets messy, <code class="code-highlight">console.group()</code> helps you organize related logs into collapsible sections!</p>      <div class="console-example">
        <pre><code class="language-javascript">// Create a group for user-related logs
console.group('User Authentication');
  console.log('Verifying credentials...');
  console.log('Checking permissions...');

  // Even nested groups work!
  console.group('Session Details');
    console.log('Session ID: ABC123');
    console.log('Expires: 2hrs');
  console.groupEnd();

  console.log('Auth successful!');
console.groupEnd();</code></pre>
      </div>

      <div class="info-box info-box-yellow content-section-larger">
        <p><strong>Pro Tips:</strong></p>
        <ul class="list-container">
          <li>Use <code class="code-highlight">console.groupCollapsed()</code> to create a collapsed group by default</li>
          <li>Always match each <code class="code-highlight">group()</code> with a <code class="code-highlight">groupEnd()</code></li>
          <li>Perfect for organizing logs from complex operations</li>
        </ul>
      </div>

      <div class="content-section">
        <p>See it in action:</p>
        <button class="try-it-btn" id="try-group-btn">Try console.group()</button>
      </div>

      <div class="interactive-challenge">
        <span class="task-badge">Final Challenge</span>
        <p>Debug our "shopping cart" by combining console powers! In your console:</p>
        <ol class="list-container">
          <li>Call <code class="code-highlight">debugShoppingCart()</code></li>
          <li>Use the console tools you've learned to find what's wrong <span class="tutorial-hint hint-icon" data-hint="Hint: Look at the data types in the table carefully.">?</span></li>
        </ol>
        <input type="text" id="combined-challenge-input" placeholder="What item is causing the price calculation bug?" class="form-input">
        <button class="try-it-btn" id="check-combined-challenge">Check Answer</button>
        <div id="combined-challenge-feedback" class="validation-feedback"></div>
      </div>

      <div class="info-box info-box-green content-section padding-15">
        <p>To complete this level, call <code class="code-highlight">completeLevel()</code> in your console once you've solved all challenges.</p>
      </div>

      <div id="completion-message" style="display: none; margin-top: 20px; padding: 20px; background-color: #dff2df; border: 1px solid var(--success-color); border-radius: 4px;">
        <h3 style="color: var(--success-color); margin-top: 0;">üéâ Level Complete!</h3>
        <p>You've mastered console debugging tools! Your secret code is: <strong id="secret-code">{{ secret }}</strong></p>
      </div>
    </div>
  </div>
{% endblock %}
